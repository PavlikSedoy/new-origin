{"ast":null,"code":"var _jsxFileName = \"/var/www/html/new-origin/frontend/src/components/Services/Services.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Container from '../Container/Container';\nimport Dots from '../Dots/Dots';\nimport SlideNumbers from '../SlideNumbers/SlideNumbers';\nimport SlideArrows from '../SlideArrows/SlideArrows';\nimport style from './Services.module.scss';\nexport default class Services extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      slides: [],\n      currentSlide: 1,\n      slidesIsLoaded: false\n    };\n\n    this.getSlides = res => {\n      const slides = res.data;\n      this.setState({\n        slides: slides,\n        slidesIsLoaded: true\n      });\n    };\n\n    this.getSlidesCount = slidesArray => slidesArray.length;\n\n    this.slide = (slide, key) => {\n      const slideNumber = key + 1;\n      const currentSlide = this.state.currentSlide;\n      const slideClass = currentSlide === slideNumber ? style.Slider__slide + ' ' + style.Slider__slideActive : style.Slider__slide;\n      if (this.state.slidesIsLoaded) return React.createElement(\"div\", {\n        className: slideClass,\n        key: key,\n        id: 'servicesSlide' + slideNumber,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: style.Slider__imgWr,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: slide._embedded['wp:featuredmedia']['0'].source_url,\n        alt: slide._embedded['wp:featuredmedia']['0'].alt_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: style.Slider__contentAndControls,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: style.Slider__contentWr,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: style.Slider__content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: style.Slider__slideTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, slide.title.rendered), React.createElement(Dots, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: style.Slider__slideDesc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, slide.acf.services_slider_first_desc)), React.createElement(Dots, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: style.Slider__slideDesc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, slide.acf.services_slider_second_desc)), React.createElement(Link, {\n        to: '/' + slide.acf.services_slider_link + '/',\n        className: style.Slider__link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\")))));\n      return 'Loading...';\n    };\n\n    this.getSliderControls = (isLoaded, slides, currentSlide) => {\n      if (isLoaded) return React.createElement(SlideNumbers, {\n        totalSlides: this.getSlidesCount(slides),\n        currentSlide: currentSlide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      });\n      return 'Loading...';\n    };\n\n    this.callbackArrowClick = currentSlideNumber => {\n      this.setState({\n        currentSlide: currentSlideNumber\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"/wp-json/wp/v2/services_slides?_embed&order=asc\").then(res => this.getSlides(res)).catch(err => console.log(err));\n  } // Push slides in state\n\n\n  render() {\n    const _this$state = this.state,\n          slides = _this$state.slides,\n          currentSlide = _this$state.currentSlide,\n          slidesIsLoaded = _this$state.slidesIsLoaded;\n    const title = this.props.title;\n    const bottomLine = {\n      position: 'absolute',\n      left: 0,\n      bottom: 0,\n      width: '100%',\n      height: 2,\n      backgroundColor: 'red',\n      zIndex: 3\n    };\n    return React.createElement(\"section\", {\n      className: style.Services,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: style.Services__title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, title)), React.createElement(\"div\", {\n      className: style.Services__slider,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: style.Slider,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: style.Slider__container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, slides.map((slide, key) => this.slide(slide, key)), React.createElement(\"div\", {\n      className: style.Slider__controlsWr,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: style.Slider__slideNumbers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.getSliderControls(slidesIsLoaded, slides, currentSlide)), React.createElement(\"div\", {\n      className: style.Slider__arrows,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(SlideArrows, {\n      currentSlide: currentSlide,\n      totalSlides: this.getSlidesCount(slides),\n      callbackArrowClick: this.callbackArrowClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: bottomLine,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })))));\n  }\n\n}\nServices.propTypes = {\n  title: PropTypes.string.isRequired\n};","map":{"version":3,"sources":["/var/www/html/new-origin/frontend/src/components/Services/Services.js"],"names":["React","Component","PropTypes","Link","axios","Container","Dots","SlideNumbers","SlideArrows","style","Services","state","slides","currentSlide","slidesIsLoaded","getSlides","res","data","setState","getSlidesCount","slidesArray","length","slide","key","slideNumber","slideClass","Slider__slide","Slider__slideActive","Slider__imgWr","_embedded","source_url","alt_text","Slider__contentAndControls","Slider__contentWr","Slider__content","Slider__slideTitle","title","rendered","Slider__slideDesc","acf","services_slider_first_desc","services_slider_second_desc","services_slider_link","Slider__link","getSliderControls","isLoaded","callbackArrowClick","currentSlideNumber","componentDidMount","get","then","catch","err","console","log","render","props","bottomLine","position","left","bottom","width","height","backgroundColor","zIndex","Services__title","Services__slider","Slider","Slider__container","map","Slider__controlsWr","Slider__slideNumbers","Slider__arrows","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport Container from '../Container/Container'\nimport Dots from '../Dots/Dots'\nimport SlideNumbers from '../SlideNumbers/SlideNumbers'\nimport SlideArrows from '../SlideArrows/SlideArrows'\nimport style from './Services.module.scss'\n\nexport default class Services extends Component {\n\n  state = {\n    slides: [],\n    currentSlide: 1,\n    slidesIsLoaded: false\n  }\n\n  static propTypes = {\n    title: PropTypes.string.isRequired\n  }\n\n  componentDidMount() {\n    axios.get(`/wp-json/wp/v2/services_slides?_embed&order=asc`)\n      .then(res => this.getSlides(res))\n      .catch(err => console.log(err))\n  }\n\n  // Push slides in state\n  getSlides = (res) => {\n    const slides = res.data\n\n    this.setState({\n      slides: slides,\n      slidesIsLoaded: true\n    })\n  }\n\n  // Total slides number\n  getSlidesCount = slidesArray => slidesArray.length \n\n  // Return slide\n  slide = (slide, key) => {\n\n    const slideNumber = key + 1\n    const currentSlide = this.state.currentSlide\n    const slideClass = currentSlide === slideNumber ? style.Slider__slide + ' ' + style.Slider__slideActive : style.Slider__slide\n\n    if (this.state.slidesIsLoaded) return (\n      <div\n        className={slideClass}\n        key={key}\n        id={'servicesSlide' + slideNumber}\n      >\n        <div className={style.Slider__imgWr}>\n          <img\n            src={ slide._embedded['wp:featuredmedia']['0'].source_url }\n            alt={ slide._embedded['wp:featuredmedia']['0'].alt_text }\n          />\n        </div>\n        <div className={style.Slider__contentAndControls}>\n          <div className={style.Slider__contentWr}>\n            <div className={style.Slider__content}>\n              <h3 className={style.Slider__slideTitle}>{ slide.title.rendered }</h3>\n              <Dots><p className={style.Slider__slideDesc}>{ slide.acf.services_slider_first_desc }</p></Dots>\n              <Dots><p className={style.Slider__slideDesc}>{ slide.acf.services_slider_second_desc }</p></Dots>\n              <Link\n                to={'/' + slide.acf.services_slider_link + '/'}\n                className={style.Slider__link}\n              >\n                Подробнее\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n\n    return 'Loading...'\n  }\n\n  // Return slider controls\n  getSliderControls = ( isLoaded, slides, currentSlide ) => {\n    if (isLoaded) return (\n      <SlideNumbers\n        totalSlides={ this.getSlidesCount(slides)}\n        currentSlide={ currentSlide }\n      />\n    )\n\n    return 'Loading...'\n  }\n\n  // Arrow click from children\n  callbackArrowClick = currentSlideNumber => {\n    this.setState({\n      currentSlide: currentSlideNumber\n    })\n  }\n\n  render() {\n\n    const { slides, currentSlide, slidesIsLoaded } = this.state\n    const { title } = this.props\n    const bottomLine = {\n      position: 'absolute',\n      left: 0,\n      bottom: 0,\n      width: '100%',\n      height: 2,\n      backgroundColor: 'red',\n      zIndex: 3\n    }\n\n    return (\n      <section className={style.Services}>\n        <Container>\n          <h2 className={style.Services__title}>{ title }</h2>\n        </Container>\n        <div className={style.Services__slider}>\n          <div className={style.Slider}>\n            <div className={style.Slider__container}>\n\n              { slides.map((slide, key) => this.slide(slide, key) ) }\n\n              <div className={style.Slider__controlsWr}>\n                <div className={style.Slider__slideNumbers}>\n                  { this.getSliderControls(slidesIsLoaded, slides, currentSlide) }\n                </div>\n                <div className={style.Slider__arrows}>\n                  <SlideArrows\n                    currentSlide={currentSlide}\n                    totalSlides={ this.getSlidesCount(slides) }\n                    callbackArrowClick={this.callbackArrowClick}\n                  />\n                </div>\n              </div>\n\n              <div style={bottomLine}></div>\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}